{"tag":"AnalysisSuccess","contents":{"requestedTools":null,"toolResults":[[{"tag":"Infer"},{"tag":"ToolSuccess","contents":[[{"tnType":"NULL_DEREFERENCE","tnDesc":"object `messageId_` last assigned on line 137 could be null and is dereferenced by call to `BlockEncryptionHandler(...)` at line 145.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/EncryptionHandler.java","tnLine":145,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.EncryptionHandler.<init>(int,com.amazonaws.encryptionsdk.model.EncryptionMaterials)","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object `messageId_` last assigned on line 137 could be null and is dereferenced by call to `FrameEncryptionHandler(...)` at line 141.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/EncryptionHandler.java","tnLine":141,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.EncryptionHandler.<init>(int,com.amazonaws.encryptionsdk.model.EncryptionMaterials)","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object `nonce` last assigned on line 225 could be null and is dereferenced by call to `cipherData(...)` at line 235.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/BlockDecryptionHandler.java","tnLine":235,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.BlockDecryptionHandler.decryptContent(byte[],int,int):byte[]","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object `nonce` last assigned on line 251 could be null and is dereferenced by call to `cipherData(...)` at line 268.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/FrameDecryptionHandler.java","tnLine":268,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.FrameDecryptionHandler.decryptContent(byte[],int,int):byte[]","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object `messageId` last assigned on line 295 could be null and is dereferenced at line 296.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/CryptoAlgorithm.java","tnLine":296,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.CryptoAlgorithm.getEncryptionKeyFromDataKey(javax.crypto.SecretKey,com.amazonaws.encryptionsdk.model.CiphertextHeaders):javax.crypto.SecretKey","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object returned by `unsignedHeaders.getHeaderNonce()` could be null and is dereferenced by call to `computeHeaderTag(...)` at line 401.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/EncryptionHandler.java","tnLine":401,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.EncryptionHandler.signCiphertextHeaders(com.amazonaws.encryptionsdk.model.CiphertextHeaders):com.amazonaws.encryptionsdk.model.CiphertextHeaders","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"NULL_DEREFERENCE","tnDesc":"object `headerTag` last assigned on line 416 could be null and is dereferenced at line 417.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/DecryptionHandler.java","tnLine":417,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.DecryptionHandler.verifyHeaderIntegrity(com.amazonaws.encryptionsdk.model.CiphertextHeaders):void","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}},{"tnType":"THREAD_SAFETY_VIOLATION","tnDesc":"Read/Write race. Non-private method `boolean BlockDecryptionHandler.isComplete()` reads without synchronization from `this.complete_`. Potentially races with write in method `BlockDecryptionHandler.processBytes(...)`.\n Reporting because another access to the same memory occurs on a background thread, although this access may not.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/BlockDecryptionHandler.java","tnLine":240,"tnColumn":-1,"tnPatch":null,"tnCodeLine":null,"tnProcedure":"com.amazonaws.encryptionsdk.internal.BlockDecryptionHandler.isComplete():boolean","tnPhase":"PhaseUnknown","tnTool":{"tag":"Infer"}}],null,{"analysisLOC":null,"analysisBuildSys":null,"analysisLang":null}]}],[{"tag":"ErrorProne"},{"tag":"ToolSuccess","contents":[[{"tnType":"UnusedVariable","tnDesc":"The local variable 'frames' is never read.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/FrameEncryptionHandler.java","tnLine":202,"tnColumn":13,"tnPatch":null,"tnCodeLine":"        int frames = 0;","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnusedVariable","tnDesc":"The field 'encryptionMaterials_' is never read.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/EncryptionHandler.java","tnLine":57,"tnColumn":39,"tnPatch":null,"tnCodeLine":"    private final EncryptionMaterials encryptionMaterials_;","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnusedVariable","tnDesc":"The local variable 'frames' is never read.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/FrameEncryptionHandler.java","tnLine":166,"tnColumn":13,"tnPatch":null,"tnCodeLine":"        int frames = 0;","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"ArrayHashCode","tnDesc":"hashcode method on array does not hash array contents","tnFile":"src/main/java/com/amazonaws/encryptionsdk/model/EncryptionMaterialsRequest.java","tnLine":83,"tnColumn":28,"tnPatch":null,"tnCodeLine":"        return Objects.hash(context, requestedAlgorithm, plaintextSize, plaintext);","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnnecessaryParentheses","tnDesc":"Unnecessary use of grouping parentheses","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/PrimitivesParser.java","tnLine":41,"tnColumn":16,"tnPatch":null,"tnCodeLine":"        return ((b[off + 7] & 0xFFL)) + ((b[off + 6] & 0xFFL) << 8) + ((b[off + 5] & 0xFFL) << 16)","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"MixedMutabilityReturnType","tnDesc":"This method returns both mutable and immutable collections or maps from different paths. This may be confusing for users of the method.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/jce/KeyStoreProvider.java","tnLine":145,"tnColumn":31,"tnPatch":null,"tnCodeLine":"    public List<JceMasterKey> getMasterKeysForEncryption(final MasterKeyRequest request) {","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"MissingOverride","tnDesc":"clone overrides method in Object; expected @Override","tnFile":"src/main/java/com/amazonaws/encryptionsdk/kms/KmsMasterKeyProvider.java","tnLine":88,"tnColumn":24,"tnPatch":null,"tnCodeLine":"        public Builder clone() {","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnusedVariable","tnDesc":"The local variable 'frames' is never read.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/FrameEncryptionHandler.java","tnLine":229,"tnColumn":13,"tnPatch":null,"tnCodeLine":"        int frames = 0;","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnnecessaryParentheses","tnDesc":"Unnecessary use of grouping parentheses","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/PrimitivesParser.java","tnLine":60,"tnColumn":16,"tnPatch":null,"tnCodeLine":"        return ((b[off + 3] & 0xFF)) + ((b[off + 2] & 0xFF) << 8) + ((b[off + 1] & 0xFF) << 16)","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnusedVariable","tnDesc":"The parameter 'alg' is never read.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/internal/CipherHandler.java","tnLine":106,"tnColumn":67,"tnPatch":null,"tnCodeLine":"    private static Cipher buildCipherObject(final CryptoAlgorithm alg) {","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"MixedMutabilityReturnType","tnDesc":"This method returns both mutable and immutable collections or maps from different paths. This may be confusing for users of the method.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/kms/KmsMasterKeyProvider.java","tnLine":540,"tnColumn":31,"tnPatch":null,"tnCodeLine":"    public List<KmsMasterKey> getMasterKeysForEncryption(final MasterKeyRequest request) {","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"EqualsGetClass","tnDesc":"Overriding Object#equals in a non-final class by using getClass rather than instanceof breaks substitutability of subclasses.","tnFile":"src/main/java/com/amazonaws/encryptionsdk/MasterKey.java","tnLine":112,"tnColumn":20,"tnPatch":null,"tnCodeLine":"    public boolean equals(final Object obj) {","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}},{"tnType":"UnnecessaryParentheses","tnDesc":"Unnecessary use of grouping parentheses","tnFile":"src/main/java/com/amazonaws/encryptionsdk/caching/CachingCryptoMaterialsManager.java","tnLine":389,"tnColumn":62,"tnPatch":null,"tnCodeLine":"        digest.update(new byte[] { (byte)(algId >> 8), (byte)(algId) });","tnProcedure":null,"tnPhase":"PhaseUnknown","tnTool":{"tag":"ErrorProne"}}],null,{"analysisLOC":null,"analysisBuildSys":"Maven []","analysisLang":null}]}]]}}
